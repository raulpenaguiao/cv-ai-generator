# CV AI Generator — Frontend

A React + TypeScript frontend for the CV AI Generator. Uses AI to help you create tailored, professional CVs as PDF documents.

## Stack

| Tool | Purpose |
|------|---------|
| [Vite](https://vitejs.dev/) + React + TypeScript | Framework & bundler |
| [Tailwind CSS v4](https://tailwindcss.com/) | Styling (via Vite plugin — no config files) |
| [shadcn/ui](https://ui.shadcn.com/) components | Accessible, themeable UI |
| [TanStack Router](https://tanstack.com/router) | Client-side routing |
| [Biome](https://biomejs.dev/) | Linting & formatting |
| [gh-pages](https://github.com/tschaub/gh-pages) | GitHub Pages deployment |

---

## Prerequisites

- **Node.js** ≥ 18 (Node 20+ recommended)
- **npm** ≥ 9
- The **backend** running at `http://localhost:5000` (or set `VITE_API_URL`)

---

## Getting Started

### 1. Install dependencies

```bash
cd frontend
npm install
```

### 2. Configure environment

Copy the example file and adjust if needed:

```bash
cp .env.example .env
```

`.env` contents:

```
VITE_API_URL=http://localhost:5000
```

The default (`http://localhost:5000`) works if you run the Flask backend locally.

### 3. Start the dev server

```bash
npm run dev
```

Open [http://localhost:5173/cv-ai-generator/](http://localhost:5173/cv-ai-generator/) in your browser.

---

## Available Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development server with HMR |
| `npm run build` | Type-check and build for production (`dist/`) |
| `npm run preview` | Preview the production build locally |
| `npm run check` | Run Biome linter & formatter checks |
| `npm run format` | Auto-format all source files with Biome |
| `npm run deploy` | Build and deploy to GitHub Pages |

---

## Project Structure

```
frontend/
├── index.html
├── vite.config.ts        # Vite config (Tailwind plugin, base path, path alias)
├── tsconfig.json         # Single TypeScript config
├── biome.json            # Biome linter / formatter config
├── .env.example          # Environment variable template
└── src/
    ├── main.tsx          # App entry point
    ├── index.css         # Tailwind v4 + CSS variables (light/dark theme)
    ├── router.tsx        # TanStack Router route tree
    ├── api/              # Typed fetch wrappers (one file per backend blueprint)
    │   ├── auth.ts
    │   ├── apiKeys.ts
    │   ├── profile.ts
    │   ├── experiences.ts
    │   ├── projects.ts
    │   ├── jobDescriptions.ts
    │   ├── blurbs.ts
    │   ├── agent.ts
    │   └── latex.ts
    ├── components/
    │   ├── Navbar.tsx
    │   ├── ThemeProvider.tsx
    │   ├── LoadingSpinner.tsx
    │   └── ui/           # shadcn/ui components
    │       ├── button.tsx
    │       ├── card.tsx
    │       ├── input.tsx
    │       ├── label.tsx
    │       ├── textarea.tsx
    │       ├── badge.tsx
    │       ├── tabs.tsx
    │       ├── dialog.tsx
    │       └── select.tsx
    ├── contexts/
    │   └── AuthContext.tsx
    ├── lib/
    │   ├── utils.ts       # `cn()` utility (clsx + tailwind-merge)
    │   └── fetchClient.ts # Base fetch wrapper (JWT injection, error handling)
    ├── pages/
    │   ├── LandingPage.tsx
    │   ├── LoginPage.tsx
    │   ├── RegisterPage.tsx
    │   ├── ProfilePage.tsx
    │   ├── ExperiencesPage.tsx
    │   ├── ProjectsPage.tsx
    │   ├── JobDescriptionsPage.tsx
    │   ├── BlurbsPage.tsx
    │   ├── GeneratePage.tsx
    │   ├── CompilePage.tsx
    │   └── SettingsPage.tsx
    └── types/
        └── index.ts       # TypeScript interfaces for all API shapes
```

---

## Routes

| Path | Page | Auth Required |
|------|------|:---:|
| `/` | Landing page | No |
| `/login` | Login | No |
| `/register` | Register | No |
| `/profile` | Personal info + photos | Yes |
| `/experiences` | Work / Education / Hobby experiences | Yes |
| `/projects` | Projects | Yes |
| `/job-descriptions` | Job listings + AI analysis | Yes |
| `/blurbs` | Saved blurbs viewer | Yes |
| `/generate` | **Core MVP** — AI blurb generation workspace | Yes |
| `/compile` | CV compilation & PDF download | Yes |
| `/settings` | API key management | Yes |

Protected routes redirect to `/login` if no JWT is found in `localStorage`.

---

## Authentication Flow

1. **Register** at `/register` — enter your email; a secure password is generated by the server and shown **once**. Save it.
2. **Login** at `/login` — enter email + password; a JWT is returned and stored in `localStorage`.
3. **Logout** — the JWT is removed from `localStorage` and the session is invalidated server-side.

---

## Generate Page (Core MVP)

The `/generate` page is the heart of the app:

1. Optionally select a **target job description** from the dropdown.
2. For each of the four CV sections — **Summary**, **Skills**, **Motivation**, **Closing** — use the action buttons:
   - **Generate** — write from scratch using your profile + job context.
   - **Rephrase** — keep the meaning but reword the existing text.
   - **Check Grammar** — proofread and fix grammar / ATS issues.
3. Edit the generated text directly in the textarea.
4. Click **Save** to store the blurb to your account.

---

## Dark / Light Mode

Click the moon/sun icon in the navbar to toggle themes. The preference is persisted in `localStorage`.

---

## Deploying to GitHub Pages

1. Update `homepage` in `package.json` with your GitHub username:
   ```json
   "homepage": "https://YOUR_USERNAME.github.io/cv-ai-generator"
   ```

2. Update `base` in `vite.config.ts` if your repo name differs:
   ```ts
   base: "/your-repo-name/",
   ```

3. Update `basepath` in `src/router.tsx` to match:
   ```ts
   basepath: "/your-repo-name",
   ```

4. Deploy:
   ```bash
   npm run deploy
   ```

This builds the app and pushes `dist/` to the `gh-pages` branch.

---

## Linting & Formatting

```bash
# Check for issues
npm run check

# Auto-fix formatting
npm run format
```

Biome is configured in `biome.json`. ESLint and Prettier are not used.

---

## Backend

The backend is a Flask app (Python). See `backend/tasks.md` for setup instructions. Make sure it is running before using the frontend.

Default backend URL: `http://localhost:5000`
